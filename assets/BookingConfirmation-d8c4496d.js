import{z as Y,j as e,B as j,F as M,S as V,b as z,C as d,e as m,c as h,g as L,a as o,L as J,V as U}from"./index-5f193234.js";import{r as b}from"./vendor-react-79a2b980.js";import{u as _,L as B}from"./vendor-router-2e3f95c9.js";import{d as $,g as T,f as E,e as K,M as Q,P as I,p as W,E as G,K as X,n as q,o as Z,J as ee}from"./vendor-ui-a51f4cb7.js";function l(c){return new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP",minimumFractionDigits:0,maximumFractionDigits:0}).format(c)}function ne(){var f,N,g,v,y,k,w,C,S,P,D;const c=_(),[t,p]=b.useState(null),[R,x]=b.useState(!0);b.useEffect(()=>{var a;if((a=c.state)!=null&&a.bookingData){p(c.state.bookingData),x(!1);return}const s=localStorage.getItem("demo-booking");if(s)try{const n=JSON.parse(s);p(n),x(!1)}catch(n){Y.error("Failed to parse booking data",n),x(!1)}else x(!1)},[c.state]);const A=s=>new Date(s).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),F=s=>new Date(s).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),H=()=>{window.print()};if(R)return e.jsx("div",{className:"min-h-screen bg-neutral-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-brand-primary mx-auto mb-4"}),e.jsx("p",{className:"text-neutral-600",children:"Loading booking details..."})]})});if(!t)return e.jsx("div",{className:"min-h-screen bg-neutral-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center max-w-md mx-auto",children:[e.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx("span",{className:"text-red-600 text-2xl",children:"!"})}),e.jsx("h2",{className:"text-2xl font-bold text-brand-dark mb-4",children:"Booking Not Found"}),e.jsx("p",{className:"text-neutral-600 mb-6",children:"We couldn't find your booking details. Please contact us if you need assistance."}),e.jsx(j,{asChild:!0,className:"bg-brand-primary text-white hover:bg-brand-primary/90",children:e.jsx(B,{to:"/contact",onClick:()=>window.scrollTo(0,0),children:"Contact Support"})})]})});const i=M.find(s=>s.value===t.customer.paymentMethod),O=s=>{const a={className:"h-4 w-4 text-brand-primary"};switch(s){case"Banknote":return e.jsx(ee,{...a});case"Smartphone":return e.jsx(Z,{...a});case"CreditCard":return e.jsx(q,{...a});default:return e.jsx(q,{...a})}},r=t.totals||{servicesSubtotal:((f=t.services)==null?void 0:f.reduce((s,a)=>s+a.price*a.quantity,0))||0,productsSubtotal:((N=t.products)==null?void 0:N.reduce((s,a)=>s+a.price*a.quantity,0))||0,tax:0,total:0};if(!t.totals){const s=r.servicesSubtotal+r.productsSubtotal;r.tax=s*.12,r.total=s+r.tax}return e.jsx("div",{className:"min-h-screen bg-neutral-50",children:e.jsx(V,{background:"white",className:"py-12",children:e.jsx(z,{children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx($,{className:"h-12 w-12 text-green-600"})}),e.jsx("h1",{className:"text-4xl font-bold text-brand-dark mb-4",children:((g=t.services)==null?void 0:g.length)>0?"Booking & Purchase Confirmed!":"Purchase Confirmed!"}),e.jsx("p",{className:"text-xl text-neutral-600 mb-6",children:((v=t.services)==null?void 0:v.length)>0?"Your services have been booked and products ordered successfully":"Your products have been ordered successfully"}),e.jsx("div",{className:"bg-brand-primary/10 border border-brand-primary/20 rounded-lg p-4 inline-block",children:e.jsxs("p",{className:"text-brand-primary font-bold text-lg",children:["Confirmation Code: ",t.confirmationCode]})})]}),((y=t.services)==null?void 0:y.length)>0&&e.jsxs(d,{className:"mb-8",children:[e.jsxs(m,{children:[e.jsxs(h,{className:"text-2xl font-semibold text-brand-dark flex items-center gap-3",children:[e.jsx(T,{className:"h-6 w-6 text-blue-600"}),"Services Booked (",t.services.length,")"]}),e.jsx(L,{children:"Your scheduled car wash services with booking details"})]}),e.jsx(o,{className:"space-y-6",children:t.services.map(s=>{const a=J.find(u=>u.id===s.bookingDetails.location),n=U.find(u=>u.value===s.bookingDetails.vehicleType);return e.jsxs("div",{className:"border border-blue-200 rounded-lg p-6 bg-blue-50/30",children:[e.jsx("div",{className:"flex items-start justify-between mb-4",children:e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-xl font-bold text-brand-dark mb-2",children:s.name}),e.jsx("p",{className:"text-neutral-600 mb-2",children:s.description}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-neutral-500",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(E,{className:"h-4 w-4"}),s.duration," minutes"]}),e.jsx("span",{className:"font-semibold text-brand-primary text-lg",children:l(s.price)})]})]})}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(K,{className:"h-4 w-4 text-blue-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-neutral-600",children:"Date"}),e.jsx("p",{className:"font-semibold text-brand-dark",children:F(s.bookingDetails.date)})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(E,{className:"h-4 w-4 text-blue-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-neutral-600",children:"Time"}),e.jsx("p",{className:"font-semibold text-brand-dark",children:s.bookingDetails.timeSlot})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Q,{className:"h-4 w-4 text-blue-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-neutral-600",children:"Location"}),e.jsx("p",{className:"font-semibold text-brand-dark",children:(a==null?void 0:a.name)||"Location not found"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(T,{className:"h-4 w-4 text-blue-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-neutral-600",children:"Vehicle"}),e.jsx("p",{className:"font-semibold text-brand-dark",children:(n==null?void 0:n.label)||"Not specified"})]})]})]})]},s.id)})})]}),((k=t.products)==null?void 0:k.length)>0&&e.jsxs(d,{className:"mb-8",children:[e.jsxs(m,{children:[e.jsxs(h,{className:"text-2xl font-semibold text-brand-dark flex items-center gap-3",children:[e.jsx(I,{className:"h-6 w-6 text-green-600"}),((w=t.services)==null?void 0:w.length)>0?`Add-on Products (${t.products.length})`:`Products Purchased (${t.products.length})`]}),e.jsx(L,{children:((C=t.services)==null?void 0:C.length)>0?"Products to enhance your service experience":"Your product order details"})]}),e.jsx(o,{children:e.jsx("div",{className:"space-y-4",children:t.products.map(s=>e.jsxs("div",{className:"flex items-center justify-between p-4 border border-neutral-200 rounded-lg bg-white",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:e.jsx(I,{className:"h-6 w-6 text-green-600"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-brand-dark",children:s.name}),e.jsx("p",{className:"text-sm text-neutral-600",children:s.description}),e.jsxs("p",{className:"text-sm font-semibold text-brand-primary",children:[l(s.price)," each"]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-sm text-neutral-600",children:["Qty: ",s.quantity]}),e.jsx("p",{className:"font-bold text-brand-dark",children:l(s.price*s.quantity)})]})]},s.id))})})]}),e.jsxs("div",{className:"grid gap-8 md:grid-cols-2 mb-8",children:[e.jsxs(d,{children:[e.jsx(m,{children:e.jsx(h,{className:"text-xl font-semibold text-brand-dark",children:"Customer Information"})}),e.jsxs(o,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(W,{className:"h-5 w-5 text-brand-primary"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-brand-dark",children:t.customer.name}),e.jsx("p",{className:"text-sm text-neutral-600",children:t.customer.phone})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(G,{className:"h-5 w-5 text-brand-primary"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-brand-dark",children:"Email Confirmation"}),e.jsx("p",{className:"text-sm text-neutral-600",children:t.customer.email})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-neutral-600",children:"Payment Method:"}),e.jsxs("p",{className:"text-brand-dark flex items-center gap-2",children:[O(i==null?void 0:i.iconName),(i==null?void 0:i.label)||t.customer.paymentMethod]})]}),t.customer.specialRequests&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-neutral-600",children:"Special Requests:"}),e.jsx("p",{className:"text-brand-dark text-sm bg-neutral-50 p-2 rounded",children:t.customer.specialRequests})]}),e.jsx("div",{className:"pt-2 border-t border-neutral-200",children:e.jsxs("p",{className:"text-xs text-neutral-500",children:["Order created: ",A(t.createdAt)]})})]})]}),e.jsxs(d,{children:[e.jsx(m,{children:e.jsx(h,{className:"text-xl font-semibold text-brand-dark",children:"Order Summary"})}),e.jsx(o,{children:e.jsxs("div",{className:"space-y-3",children:[((S=t.services)==null?void 0:S.length)>0&&e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsxs("span",{className:"text-neutral-600",children:["Services (",t.services.length,")"]}),e.jsx("span",{className:"font-medium",children:l(r.servicesSubtotal)})]}),((P=t.products)==null?void 0:P.length)>0&&e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsxs("span",{className:"text-neutral-600",children:[((D=t.services)==null?void 0:D.length)>0?"Add-ons":"Products"," (",t.products.length,")"]}),e.jsx("span",{className:"font-medium",children:l(r.productsSubtotal)})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-neutral-600",children:"Tax (12% VAT)"}),e.jsx("span",{className:"font-medium",children:l(r.tax)})]}),e.jsxs("div",{className:"flex justify-between text-xl font-bold text-brand-dark pt-3 border-t border-neutral-200",children:[e.jsx("span",{children:"Total"}),e.jsx("span",{className:"text-brand-primary",children:l(r.total)})]})]})})]})]}),e.jsx("div",{className:"flex flex-wrap gap-4 justify-center mb-8",children:e.jsxs(j,{onClick:H,variant:"outline",className:"flex items-center gap-2",children:[e.jsx(X,{className:"h-4 w-4"}),"Print Receipt"]})}),e.jsx(d,{className:"bg-blue-50 border-blue-200",children:e.jsxs(o,{className:"p-6",children:[e.jsx("h3",{className:"font-semibold text-blue-900 mb-3",children:"Important Information"}),e.jsxs("ul",{className:"space-y-2 text-sm text-blue-800 list-disc list-inside",children:[e.jsx("li",{children:"This is a demo booking - no actual service will be provided"}),e.jsx("li",{children:"Please arrive 5 minutes before your scheduled time"}),e.jsx("li",{children:"Bring your confirmation code for verification"}),e.jsx("li",{children:"Payment is due upon arrival unless otherwise specified"}),e.jsx("li",{children:"Contact us if you need to reschedule or cancel"})]})]})}),e.jsx("div",{className:"text-center mt-8",children:e.jsx(j,{asChild:!0,size:"lg",className:"bg-brand-primary text-white hover:bg-brand-primary/90",children:e.jsx(B,{to:"/",onClick:()=>window.scrollTo(0,0),children:"Return to Home"})})})]})})})})}export{ne as BookingConfirmation};
